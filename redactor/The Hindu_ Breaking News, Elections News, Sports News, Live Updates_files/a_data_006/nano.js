function G(A){function e(a,d){function c(){f--;0===f&&d(null,b)}var b={},f=Object.keys(a).length;if(0===f)d("You need to define at least one video object.");else for(var n in a)b[n]=new Image,b[n].onload=c,b[n].onerror=d,b[n].src=a[n].src}function q(){var c=document.createElement("canvas");c.width=d.width;c.height=d.height;c.classList.add("canvid");a.appendChild(c);return c.getContext("2d")}function r(){[].forEach.call(a.children,function(a){a.classList.contains("canvid")||(a.style.display="none")})}
function p(){[].forEach.call(a.children,function(c){c.classList.contains("canvid")&&a.removeChild(c)})}function m(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return setTimeout(a,1E3/60)}}function l(a){return"function"===typeof a||!!(a&&a.constructor&&a.call&&a.apply)}var f=!0,b={play:function(){console.log("Cannot play before images are loaded")}},d=function(){for(var a={},d,b=0;b<arguments.length;b++)for(d in arguments[b])arguments[b].hasOwnProperty(d)&&
(a[d]=arguments[b][d]);return a}({width:800,height:450,selector:".canvid-wrapper"},A),a="string"===typeof d.selector?document.querySelector(d.selector):d.selector;if(!a)return d.onError("Error. No element found for selector");if(!d.videos)return d.onError("Error. You need to define at least one video object");(function(){var a=document.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))})()?e(d.videos,function(a,n){if(a)return d.onError(a);var c=q(),y=m();b.play=function(a,w,m){function e(){if(!x&&
(h(v),v=+v+(w?-1:1),0>v&&(v+=+g.frames),v>=g.frames&&(v=0),(w?v!=g.frames-1:v)||B++,g.loops&&B>=g.loops&&(k=!1,g.onEnd&&l(g.onEnd))))g.onEnd();x=(x+1)%C;k&&1<g.frames&&y(e)}function h(a){var b=Math.floor(a%g.cols)*z;a=Math.floor(a/g.cols)*u;c.clearRect(0,0,d.width,d.height);c.drawImage(q,b,a,z,u,0,0,d.width,d.height)}b.pause&&b.pause();var q=n[a],g=d.videos[a],z=q.width/g.cols,u=q.height/Math.ceil(g.frames/g.cols),v=w?g.frames-1:0,x=0,k=!0,B=0,C=60/(m||g.fps||15);y(e);b.resume=function(){k=!0;y(e)};
b.pause=function(){k=!1;y(e)};b.jb=function(){return k};b.Vb=function(){b.pause();p()};b.eb=function(){return v};b.ac=function(a){if(0>a||a>=g.frames)return!1;b.jb()||h(a);v=a};f&&(f=!1,r())};l(d.loaded)&&d.loaded(b)}):opts.srcGif&&(A=new Image,A.src=opts.srcGif,a.appendChild(A));return b}
(function(A){"object"===typeof exports&&"undefined"!==typeof module?module.l=A():"function"===typeof define&&define.Rb?define([],A):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).ra=A()})(function(){return function e(q,r,p){function m(b,d){if(!r[b]){if(!q[b]){var a="function"==typeof require&&require;if(!d&&a)return a(b,!0);if(l)return l(b,!0);a=Error("Cannot find module '"+b+"'");throw a.code="MODULE_NOT_FOUND",a;}a=r[b]={l:{}};q[b][0].call(a.l,
function(a){var c=q[b][1][a];return m(c?c:a)},a,a.l,e,q,r,p)}return r[b].l}for(var l="function"==typeof require&&require,f=0;f<p.length;f++)m(p[f]);return m}({1:[function(e,q){(function(){q.l=function(){return function(){this.Hb=this.zb=this.Ua=this.description=this.title=this.Ib=this.Cb=this.id=null;this.s=[];this.V=[];this.A=[];this.ab=[]}}()}).call(this)},{}],2:[function(e,q,r){(function(){var p,m,l;m=e("./parser");l=e("./util");p=function(){function f(){}f.wa=0;f.xa=0;f.options={withCredentials:!1,
timeout:0};f.get=function(b,d,a){var c,f,l;f=+new Date;c=r.extend=function(a,c){var d,b;for(d in c)b=c[d],a[d]=b;return a};a||("function"===typeof d&&(a=d),l={});l=c(this.options,d);this.oa<f?(this.Z=1,this.oa=f+36E5):this.Z++;if(this.wa>=this.Z)a(null,Error("VAST call canceled \u05d2\u20ac\u201c FreeLunch capping not reached yet "+this.Z+"/"+this.wa));else{d=f-this.aa;if(0>d)this.aa=0;else if(d<this.xa){a(null,Error("VAST call canceled \u05d2\u20ac\u201c ("+this.xa+")ms minimum interval reached"));
return}return m.parse(b,l,function(){return function(c,d,b){return a(c,d,b)}}(this))}};(function(){var b,d;d=l.Gb;b=Object.defineProperty;["lastSuccessfullAd","totalCalls","totalCallsTimeout"].forEach(function(a){b(f,a,{get:function(){return d.getItem(a)},set:function(c){return d.setItem(a,c)},configurable:!1,enumerable:!0})});null==f.aa&&(f.aa=0);null==f.Z&&(f.Z=0);null==f.oa&&(f.oa=0)})();return f}();q.l=p}).call(this)},{"./parser":11,"./util":17}],3:[function(e,q){(function(){q.l=function(){return function(){this.id=
null;this.height=this.width=0;this.Xa=this.U=this.T=this.Y=this.type=null;this.j={}}}()}).call(this)},{}],4:[function(e,q){(function(){function e(b,d){function a(){this.constructor=b}for(var c in d)f.call(d,c)&&(b[c]=d[c]);a.prototype=d.prototype;b.prototype=new a;b.da=d.prototype}var p,m,l,f={}.hasOwnProperty;p=function(){return function(){this.j={}}}();m=function(b){function d(){d.da.constructor.apply(this,arguments);this.type="linear";this.duration=0;this.I=null;this.L=[];this.D=null;this.G=[];
this.Kb=[];this.O=null;this.ib=[]}e(d,b);return d}(p);l=function(b){function d(){d.da.constructor.apply(this,arguments);this.type="nonlinear";this.pa=[]}e(d,b);return d}(p);p=function(b){function d(){this.type="companion";this.pa=[]}e(d,b);return d}(p);q.l={ta:m,Ta:l,Sa:p}}).call(this)},{}],5:[function(e,q){(function(){q.l=function(){return function(){this.attributes={};this.children=[]}}()}).call(this)},{}],6:[function(e,q){(function(){q.l=function(){return function(){this.value=this.name=null;this.attributes=
{}}}()}).call(this)},{}],7:[function(e,q){(function(){q.l=function(){return function(){this.Ab=null;this.Ob=this.Mb=this.width=this.height=0;this.offset=this.P=null;this.duration=0;this.fb=this.U=this.T=this.Y=this.type=null;this.gb=[];this.hb=null}}()}).call(this)},{}],8:[function(e,q){q.l={client:e("./client"),m:e("./tracker"),Yb:e("./parser"),bc:e("./util")}},{"./client":2,"./parser":11,"./tracker":13,"./util":17}],9:[function(e,q){(function(){q.l=function(){return function(){this.H=this.id=null;
this.$a="progressive";this.Wa=this.ha=null;this.height=this.width=this.lb=this.nb=this.Va=0;this.Ja=this.Na=this.P=null}}()}).call(this)},{}],10:[function(e,q){(function(){q.l=function(){return function(){this.id=null;this.height=this.width=0;this.ob="00:00:00";this.P="static";this.pb=this.U=this.T=this.Y=this.type=null}}()}).call(this)},{}],11:[function(e,q){(function(){var r,p,m,l,f,b,d,a,c,n,w,y,E,F,D,H=[].indexOf||function(a){for(var c=0,d=this.length;c<d;c++)if(c in this&&this[c]===a)return c;
return-1};p=e("./urlhandler");F=e("./response");m=e("./ad");l=e("./extension");f=e("./extensionchild");D=e("./util");a=e("./creative").ta;d=e("./creative").Sa;c=e("./creative").Ta;w=e("./mediafile");n=e("./icon");b=e("./companionad");y=e("./nonlinear");r=e("events").sa;E=function(){function h(){}var e;e=[];h.Qb=function(a){"function"===typeof a&&e.push(a)};h.$b=function(){return e.pop()};h.Ub=function(){return e.length};h.Sb=function(){return e=[]};h.parse=function(a,c,d){d||("function"===typeof c&&
(d=c),c={});return this.ua(a,null,c,function(a,c,b){return d(c,a,b)})};h.qa=new r;h.track=function(a,c){this.qa.F("VAST-error",c);return D.track(a,c)};h.ba=function(a,c){return this.qa.ba(a,c)};h.once=function(a,c){return this.qa.once(a,c)};h.ua=function(a,c,d,b){var g,k,u;b||("function"===typeof d&&(b=d),d={});k=0;for(u=e.length;k<u;k++)g=e[k],a=g(a);null==c&&(c=[]);c.push(a);return p.get(a,d,function(k){return function(g,u,f){var x,z,n,l,v,h;if(null!=g)return b(g,null,f);h=new F;if(null==(null!=
u?u.documentElement:void 0)||"VAST"!==u.documentElement.nodeName)return b(Error("Invalid VAST XMLDocument"));if("NO_AD"===u.documentElement.getAttribute("t:status"))return b(null,null,f);v=u.documentElement.childNodes;n=0;for(l=v.length;n<l;n++)g=v[n],"Error"===g.nodeName&&h.s.push(k.f(g));l=u.documentElement.childNodes;u=0;for(n=l.length;u<n;u++)g=l[u],"Ad"===g.nodeName&&(x=k.qb(g),null!=x?h.o.push(x):k.track(h.s,{N:101}));z=function(a){var c,d,g,u;null==a&&(a=!1);if(h){g=!0;u=h.o;c=0;for(d=u.length;c<
d;c++){x=u[c];if(null!=x.v)return;0<x.A.length&&(g=!1)}g&&(a||k.track(h.s,{N:303}));0===h.o.length&&(h=null);return b(null,h,f)}};for(g=h.o.length;g--;)x=h.o[g],null!=x.v&&function(b){var g;if(30<=c.length||(g=b.v,0<=H.call(c,g)))k.track(b.s,{N:302}),h.o.splice(h.o.indexOf(b),1),z();else return 0===b.v.indexOf("//")?(g=location.protocol,b.v=""+g+b.v):-1===b.v.indexOf("://")&&(g=a.slice(0,a.lastIndexOf("/")),b.v=g+"/"+b.v),k.ua(b.v,c,d,function(a,c){var d,g,u,f,x,n,l,v,t,B,m,e,w,C,p;u=!1;if(null!=
a)k.track(b.s,{N:301}),h.o.splice(h.o.indexOf(b),1),u=!0;else if(null==c)k.track(b.s,{N:303}),h.o.splice(h.o.indexOf(b),1),u=!0;else for(h.s=h.s.concat(c.s),x=h.o.indexOf(b),h.o.splice(x,1),e=c.o,n=0,l=e.length;n<l;n++){p=e[n];p.s=b.s.concat(p.s);p.V=b.V.concat(p.V);if(null!=b.j)for(w=p.A,B=0,v=w.length;B<v;B++)if(g=w[B],"linear"===g.type||"nonlinear"===g.type)for(C=Object.keys(b.j),m=0,t=C.length;m<t;m++)f=C[m],(d=g.j)[f]||(d[f]=[]),g.j[f]=g.j[f].concat(b.j[f]);if(null!=b.G)for(t=p.A,v=0,f=t.length;v<
f;v++)g=t[v],"linear"===g.type&&(g.G=g.G.concat(b.G));if(null!=b.D)for(t=p.A,v=0,f=t.length;v<f;v++)g=t[v],"linear"===g.type&&null==g.D&&(g.D=b.D);h.o.splice(++x,0,p)}delete b.v;return z(u)})}(x);return z()}}(this))};h.u=function(a,c){var b,d,g,k;k=a.childNodes;d=0;for(g=k.length;d<g;d++)if(b=k[d],b.nodeName===c)return b};h.h=function(a,c){var b,d,g,k,f;d=[];f=a.childNodes;g=0;for(k=f.length;g<k;g++)b=f[g],b.nodeName===c&&d.push(b);return d};h.qb=function(a){var c,b,d,g,k;g=a.childNodes;b=0;for(d=
g.length;b<d;b++)if(c=g[b],"Wrapper"===(k=c.nodeName)||"InLine"===k){this.Aa("id",a,c);this.Aa("sequence",a,c);if("Wrapper"===c.nodeName)return this.vb(c);if("InLine"===c.nodeName)return this.Ka(c)}};h.vb=function(a){var c,b,d,g;c=this.Ka(a);d=this.u(a,"VASTAdTagURI");null!=d?c.v=this.f(d):(d=this.u(a,"VASTAdTagURL"),null!=d&&(c.v=this.f(this.u(d,"URL"))));g=c.A;a=0;for(d=g.length;a<d;a++)b=g[a],"linear"!==b.type&&"nonlinear"!==b.type||null==b||(null!=b.j&&(c.j=b.j),null!=b.G&&(c.G=b.G),null!=b.D&&
(c.D=b.D));if(null!=c.v)return c};h.Ka=function(a){var c,b,d,g,k,f,h,n,l,e;c=new m;c.id=a.getAttribute("id")||null;c.Cb=a.getAttribute("sequence")||null;n=a.childNodes;a=0;for(k=n.length;a<k;a++)switch(g=n[a],g.nodeName){case "Error":c.s.push(this.f(g));break;case "Impression":c.V.push(this.f(g));break;case "Creatives":l=this.h(g,"Creative");g=0;for(f=l.length;g<f;g++)for(d=l[g],e=d.childNodes,d=0,h=e.length;d<h;d++)switch(b=e[d],b.nodeName){case "Linear":(b=this.sb(b))&&c.A.push(b);break;case "NonLinearAds":(b=
this.ub(b))&&c.A.push(b);break;case "CompanionAds":(b=this.rb(b))&&c.A.push(b)}break;case "Extensions":this.tb(c.ab,this.h(g,"Extension"));break;case "AdSystem":c.Ib={value:this.f(g),version:g.getAttribute("version")||null};break;case "AdTitle":c.title=this.f(g);break;case "Description":c.description=this.f(g);break;case "Advertiser":c.Ua=this.f(g);break;case "Pricing":c.zb={value:this.f(g),Wb:g.getAttribute("model")||null,currency:g.getAttribute("currency")||null};break;case "Survey":c.Hb=this.f(g)}return c};
h.tb=function(a,c){var b,d,g,k,h,n,e,t,m,w,p,z;z=[];h=0;for(t=c.length;h<t;h++){g=c[h];d=new l;if(g.attributes)for(b=g.attributes,n=0,m=b.length;n<m;n++)k=b[n],d.attributes[k.nodeName]=k.nodeValue;m=g.childNodes;k=0;for(n=m.length;k<n;k++)if(b=m[k],"#text"!==b.nodeName){g=new f;g.name=b.nodeName;g.value=this.f(b);if(b.attributes)for(p=b.attributes,e=0,w=p.length;e<w;e++)b=p[e],g.attributes[b.nodeName]=b.nodeValue;d.children.push(g)}z.push(a.push(d))}};h.sb=function(c){var b,d,g,f,k,h,l,e,t,m,p;g=
new a;g.duration=this.X(this.f(this.u(c,"Duration")));-1===g.duration&&"Wrapper"!==c.parentNode.parentNode.parentNode.nodeName&&(g.duration=30);b=c.getAttribute("skipoffset");null==b?g.I=null:"%"===b.charAt(b.length-1)?(b=parseInt(b,10),g.I=b/100*g.duration):g.I=this.X(b);e=this.u(c,"VideoClicks");if(null!=e){g.D=this.f(this.u(e,"ClickThrough"));k=this.h(e,"ClickTracking");h=0;for(l=k.length;h<l;h++)b=k[h],g.G.push(this.f(b));k=this.h(e,"CustomClick");h=0;for(l=k.length;h<l;h++)b=k[h],g.Kb.push(this.f(b))}b=
this.u(c,"AdParameters");null!=b&&(g.O=this.f(b));l=this.h(c,"TrackingEvents");b=0;for(h=l.length;b<h;b++)for(k=l[b],m=this.h(k,"Tracking"),k=0,e=m.length;k<e;k++)if(p=m[k],f=p.getAttribute("event"),t=this.f(p),null!=f&&null!=t){if("progress"===f){f=p.getAttribute("offset");if(!f)continue;f="%"===f.charAt(f.length-1)?"progress-"+f:"progress-"+Math.round(this.X(f))}null==(d=g.j)[f]&&(d[f]=[]);g.j[f].push(t)}h=this.h(c,"MediaFiles");b=0;for(d=h.length;b<d;b++)for(l=h[b],m=this.h(l,"MediaFile"),e=0,
l=m.length;e<l;e++)t=m[e],k=new w,k.id=t.getAttribute("id"),k.H=this.f(t),k.$a=t.getAttribute("delivery"),k.Wa=t.getAttribute("codec"),k.ha=t.getAttribute("type"),k.P=t.getAttribute("apiFramework"),k.Va=parseInt(t.getAttribute("bitrate")||0),k.nb=parseInt(t.getAttribute("minBitrate")||0),k.lb=parseInt(t.getAttribute("maxBitrate")||0),k.width=parseInt(t.getAttribute("width")||0),k.height=parseInt(t.getAttribute("height")||0),(f=t.getAttribute("scalable"))&&"string"===typeof f&&(f=f.toLowerCase(),"true"===
f?k.Na=!0:"false"===f&&(k.Na=!1)),(t=t.getAttribute("maintainAspectRatio"))&&"string"===typeof t&&(t=t.toLowerCase(),"true"===t?k.Ja=!0:"false"===t&&(k.Ja=!1)),g.L.push(k);c=this.u(c,"Icons");if(null!=c)for(l=this.h(c,"Icon"),h=0,b=l.length;h<b;h++){d=l[h];c=new n;c.Ab=d.getAttribute("program");c.height=parseInt(d.getAttribute("height")||0);c.width=parseInt(d.getAttribute("width")||0);c.Mb=this.wb(d.getAttribute("xPosition"));c.Ob=this.xb(d.getAttribute("yPosition"));c.P=d.getAttribute("apiFramework");
c.offset=this.X(d.getAttribute("offset"));c.duration=this.X(d.getAttribute("duration"));t=this.h(d,"HTMLResource");m=0;for(e=t.length;m<e;m++)k=t[m],c.type=k.getAttribute("creativeType")||"text/html",c.T=this.f(k);t=this.h(d,"IFrameResource");m=0;for(e=t.length;m<e;m++)k=t[m],c.type=k.getAttribute("creativeType")||0,c.U=this.f(k);m=this.h(d,"StaticResource");e=0;for(k=m.length;e<k;e++)t=m[e],c.type=t.getAttribute("creativeType")||0,c.Y=this.f(t);k=this.u(d,"IconClicks");if(null!=k)for(c.fb=this.f(this.u(k,
"IconClickThrough")),m=this.h(k,"IconClickTracking"),t=0,e=m.length;t<e;t++)k=m[t],c.gb.push(this.f(k));c.hb=this.f(this.u(d,"IconViewTracking"));g.ib.push(c)}return g};h.ub=function(a){var b,d,g,f,k,h,l,n,e,m;d=new c;n=this.h(a,"TrackingEvents");f=0;for(h=n.length;f<h;f++)for(g=n[f],e=this.h(g,"Tracking"),k=0,l=e.length;k<l;k++)m=e[k],g=m.getAttribute("event"),m=this.f(m),null!=g&&null!=m&&(null==(b=d.j)[g]&&(b[g]=[]),d.j[g].push(m));n=this.h(a,"NonLinear");a=0;for(b=n.length;a<b;a++){h=n[a];f=new y;
f.id=h.getAttribute("id")||null;f.width=h.getAttribute("width");f.height=h.getAttribute("height");f.ob=h.getAttribute("minSuggestedDuration");f.P=h.getAttribute("apiFramework");e=this.h(h,"HTMLResource");k=0;for(l=e.length;k<l;k++)g=e[k],f.type=g.getAttribute("creativeType")||"text/html",f.T=this.f(g);e=this.h(h,"IFrameResource");l=0;for(k=e.length;l<k;l++)g=e[l],f.type=g.getAttribute("creativeType")||0,f.U=this.f(g);l=this.h(h,"StaticResource");k=0;for(g=l.length;k<g;k++)e=l[k],f.type=e.getAttribute("creativeType")||
0,f.Y=this.f(e);f.pb=this.f(this.u(h,"NonLinearClickThrough"));d.pa.push(f)}return d};h.rb=function(a){var c,g,f,h,k,l,n,e,m,w,p,y,q,r;h=new d;y=this.h(a,"Companion");l=0;for(e=y.length;l<e;l++){f=y[l];a=new b;a.id=f.getAttribute("id")||null;a.width=f.getAttribute("width");a.height=f.getAttribute("height");a.Ya=[];k=this.h(f,"HTMLResource");n=0;for(m=k.length;n<m;n++)g=k[n],a.type=g.getAttribute("creativeType")||"text/html",a.T=this.f(g);k=this.h(f,"IFrameResource");n=0;for(m=k.length;n<m;n++)g=k[n],
a.type=g.getAttribute("creativeType")||0,a.U=this.f(g);m=this.h(f,"StaticResource");g=0;for(n=m.length;g<n;g++)k=m[g],a.type=k.getAttribute("creativeType")||0,a.Y=this.f(k);m=this.h(f,"TrackingEvents");n=0;for(g=m.length;n<g;n++)for(k=m[n],q=this.h(k,"Tracking"),p=0,w=q.length;p<w;p++)r=q[p],k=r.getAttribute("event"),r=this.f(r),null!=k&&null!=r&&(null==(c=a.j)[k]&&(c[k]=[]),a.j[k].push(r));k=this.h(f,"CompanionClickTracking");m=0;for(n=k.length;m<n;m++)g=k[m],a.Ya.push(this.f(g));a.Xa=this.f(this.u(f,
"CompanionClickThrough"));a.Tb=this.f(this.u(f,"CompanionClickTracking"));h.pa.push(a)}return h};h.X=function(a){var c,b;if(null==a)return-1;c=a.split(":");if(3!==c.length)return-1;b=c[2].split(".");a=parseInt(b[0]);2===b.length&&(a+=parseFloat("0."+b[1]));b=parseInt(60*c[1]);c=parseInt(3600*c[0]);return isNaN(c||isNaN(b||isNaN(a||3600<b||60<a)))?-1:c+b+a};h.wb=function(a){return"left"===a||"right"===a?a:parseInt(a||0)};h.xb=function(a){return"top"===a||"bottom"===a?a:parseInt(a||0)};h.f=function(a){return a&&
(a.textContent||a.text||"").trim()};h.Aa=function(a,c,b){(c=c.getAttribute(a))&&b.setAttribute(a,c)};return h}();q.l=E}).call(this)},{"./ad":1,"./companionad":3,"./creative":4,"./extension":5,"./extensionchild":6,"./icon":7,"./mediafile":9,"./nonlinear":10,"./response":12,"./urlhandler":14,"./util":17,events:18}],12:[function(e,q){(function(){q.l=function(){return function(){this.o=[];this.s=[]}}()}).call(this)},{}],13:[function(e,q){(function(){function r(d,a){function c(){this.constructor=d}for(var f in a)b.call(a,
f)&&(d[f]=a[f]);c.prototype=a.prototype;d.prototype=new c;d.da=a.prototype}var p,m,l,f,b={}.hasOwnProperty;p=e("./client");f=e("./util");m=e("./creative").ta;l=function(b){function a(a,b){var c,d,f;this.va=a;this.C=b;this.Pa=this.Ga=this.muted=!1;this.Fb=-1;this.j={};this.Da="creativeView start firstQuartile midpoint thirdQuartile complete resume pause rewind skip closeLinear close".split(" ");f=this.C.j;for(c in f)d=f[c],this.j[c]=d.slice(0);this.C instanceof m?(this.Oa(this.C.duration),this.I=this.C.I,
this.W=!0,this.ya=this.C.D,this.za=this.C.G):(this.I=-1,this.W=!1);this.ba("start",function(){p.aa=+new Date})}r(a,b);a.prototype.Oa=function(a){this.R=a;this.Bb={firstQuartile:25*this.R/100,midpoint:50*this.R/100,thirdQuartile:75*this.R/100}};a.prototype.Db=function(a){var c,b,d,f;b=null===this.I?this.Fb:this.I;-1===b||this.Pa||(b>a?this.F("skip-countdown",b-a):(this.Pa=!0,this.F("skip-countdown",0)));if(this.W&&0<this.R){b=[];if(0<a)for(c in b.push("start"),d=Math.round(a/this.R*100),b.push("progress-"+
d+"%"),b.push("progress-"+Math.round(a)),d=this.Bb,d)f=d[c],f<=a&&a<=f+1&&b.push(c);d=0;for(f=b.length;d<f;d++)c=b[d],this.track(c,!0);a<this.M&&this.track("rewind")}this.M=a};a.prototype.Ba=function(){this.track("creativeView",!0)};a.prototype.start=function(){return this.track("start",!0)};a.prototype.cb=function(){return this.track("firstQuartile",!0)};a.prototype.mb=function(){return this.track("midpoint",!0)};a.prototype.Jb=function(){return this.track("thirdQuartile",!0)};a.prototype.pause=
function(){return this.track("pause")};a.prototype.resume=function(){return this.track("resume")};a.prototype.Ha=function(){this.Ga||(this.Ga=!0,this.ca(this.va.V))};a.prototype.fa=function(){this.ca(this.va.s,{N:void 0})};a.prototype.complete=function(){return this.track("complete")};a.prototype.close=function(){return this.track(this.W?"closeLinear":"close")};a.prototype.stop=function(){};a.prototype.Eb=function(){this.track("skip");this.j=[]};a.prototype.click=function(){var a,b;null!=(b=this.za)&&
b.length&&this.ca(this.za);if(null!=this.ya)return b={},this.W&&this.M&&(b={Pb:this.La()}),null!=(null!=(a=this.C.L[0])?a.H:void 0)&&(b.ASSETURI=this.C.L[0].H),a=f.Ma([this.ya],b)[0],this.F("clickthrough",a)};a.prototype.track=function(a,b){var c,d;null==b&&(b=!1);"closeLinear"===a&&null==this.j[a]&&null!=this.j.close&&(a="close");d=this.j[a];c=this.Da.indexOf(a);null!=d?(this.F(a,""),this.ca(d)):-1!==c&&this.F(a,"");!0===b&&(delete this.j[a],-1<c&&this.Da.splice(c,1))};a.prototype.ca=function(a,
b){var c;b={};this.W&&this.M&&(b.CONTENTPLAYHEAD=this.La());null!=(null!=(c=this.C.L[0])?c.H:void 0)&&(b.ASSETURI=this.C.L[0].H);f.track(a,b)};a.prototype.La=function(){var a,b,d,f;d=parseInt(1E3*this.M%1E3);f=parseInt(this.M%60);b=parseInt(this.M/60%60);a=parseInt(this.M/3600%24);return(10>a?"0"+a:a)+":"+(10>b?"0"+b:b)+":"+(10>f?"0"+f:f)+"."+(10>d?"00"+d:100>d?"0"+d:d)};return a}(e("events").sa);q.l=l}).call(this)},{"./client":2,"./creative":4,"./util":17,events:18}],14:[function(e,q){(function(){var r,
p,m;m=e("./urlhandlers/xmlhttprequest");p=e("./urlhandlers/flash");r=function(){function l(){}l.get=function(f,b,d){d||("function"===typeof b&&(d=b),b={});return null!=b.response?(f="string"===typeof b.response?(new DOMParser).parseFromString(b.response,"text/xml"):b.response,delete b.response,d(null,f)):b.urlhandler&&b.urlhandler.supported()?b.urlhandler.get(f,b,d):m.ma()?m.get(f,b,d):p.ma()?p.get(f,b,d):d(Error("Current context is not supported by any of the default URLHandlers. Please provide a custom URLHandler"))};
return l}();q.l=r}).call(this)},{"./urlhandlers/flash":15,"./urlhandlers/xmlhttprequest":16}],15:[function(e,q){(function(){var e;e=function(){function e(){}e.Ra=function(){var e;window.XDomainRequest&&(e=new XDomainRequest);return e};e.ma=function(){return!!this.Ra()};e.get=function(e,l,f){var b,d;if(d="function"===typeof window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLDOM"):void 0)d.async=!1;else return f(Error("FlashURLHandler: Microsoft.XMLDOM format not supported"));b=this.Ra();b.open("GET",
e);b.timeout=l.timeout||0;b.withCredentials=l.withCredentials||!1;b.send();b.onprogress=function(){};return b.onload=function(){d.loadXML(b.responseText);return f(null,d)}};return e}();q.l=e}).call(this)},{}],16:[function(e,q){(function(){var e;e=function(){function e(){}e.Nb=function(){var e;e=new window.XMLHttpRequest;if("withCredentials"in e)return e};e.ma=function(){return!!this.Nb()};e.get=function(e,l,f){var b;if("https:"===window.location.protocol&&0===e.indexOf("http://"))return f(Error("XHRURLHandler: Cannot go from HTTPS to HTTP."));
try{return b=new window.XMLHttpRequest,b.open("GET",e),b.timeout=l.timeout||0,b.withCredentials=l.withCredentials||!1,b.overrideMimeType&&b.overrideMimeType("text/xml"),b.ontimeout=function(){return f(Error("Vast Response Timeout"))},b.onload=function(){return f(null,b.responseXML)},b.onerror=function(){var d;return b.withCredentials?(d=new window.XMLHttpRequest,d.open("GET",e),d.timeout=l.timeout||0,d.withCredentials=!1,d.overrideMimeType&&d.overrideMimeType("text/xml"),d.ontimeout=function(){return f(Error("Vast Response Timeout"))},
d.onload=function(){return f(null,d.responseXML,!0)},d.onerror=function(){return f(Error("XHRURLHandler: "+d.statusText))},d.send()):f(Error("XHRURLHandler: "+b.statusText))},b.send()}catch(d){return f(Error("XHRURLHandler: Unexpected error"))}};return e}();q.l=e}).call(this)},{}],17:[function(e,q){(function(){var e;e=function(){function e(){}e.track=function(e,l){var f,b,d,a,c,n;b=this.Ma(e,l);n=[];a=0;for(c=b.length;a<c;a++)f=b[a],"undefined"!==typeof window&&null!==window&&(d=new Image,n.push(d.src=
f));return n};e.Ma=function(e,l){var f,b,d,a,c,n,m,p;null==l&&(l={});b=[];null!=l.ASSETURI&&(l.ASSETURI=this.ea(l.ASSETURI));null!=l.CONTENTPLAYHEAD&&(l.CONTENTPLAYHEAD=this.ea(l.CONTENTPLAYHEAD));l.ERRORCODE&&/^[0-9]{3}$/.test(l.ERRORCODE)||(l.ERRORCODE=900);l.CACHEBUSTING=this.kb();l.TIMESTAMP=this.ea((new Date).toISOString());l.RANDOM=l.random=l.CACHEBUSTING;d=0;for(c=e.length;d<c;d++)if(m=f=e[d]){for(a in l)p=l[a],f="["+a+"]",n="%%"+a+"%%",m=m.replace(f,p),m=m.replace(n,p);b.push(m)}return b};
e.ea=function(e){return encodeURIComponent(e).replace(/[!'()]/g,escape).replace(/\*/g,"%2A")};e.kb=function(){var e=Math.round(1E8*Math.random()).toString();return 8>e.length?"00000000".substring(0,8-e.length)+e:e};e.Gb=function(){var e,l,f;try{f="undefined"!==typeof window&&null!==window?window.localStorage||window.sessionStorage:null}catch(b){f=null}l=function(b){try{if(b.setItem("__VASTUtil__","__VASTUtil__"),"__VASTUtil__"!==b.getItem("__VASTUtil__"))return!0}catch(d){return!0}return!1};if(null==
f||l(f))e={},f={length:0,getItem:function(b){return e[b]},setItem:function(b,d){e[b]=d;this.length=Object.keys(e).length},removeItem:function(b){delete e[b];this.length=Object.keys(e).length},clear:function(){e={};this.length=0}};return f}();return e}();q.l=e}).call(this)},{}],18:[function(e,q){function r(){this.g=this.g||{};this.$=this.$||void 0}function p(e){return"function"===typeof e}function m(e){return"object"===typeof e&&null!==e}q.l=r;r.sa=r;r.prototype.g=void 0;r.prototype.$=void 0;r.Za=
10;r.prototype.F=function(e){var f,b,d,a;this.g||(this.g={});if("error"===e&&(!this.g.error||m(this.g.error)&&!this.g.error.length)){f=arguments[1];if(f instanceof Error)throw f;b=Error('Uncaught, unspecified "error" event. ('+f+")");b.context=f;throw b;}b=this.g[e];if(void 0===b)return!1;if(p(b))switch(arguments.length){case 1:b.call(this);break;case 2:b.call(this,arguments[1]);break;case 3:b.call(this,arguments[1],arguments[2]);break;default:f=Array.prototype.slice.call(arguments,1),b.apply(this,
f)}else if(m(b))for(f=Array.prototype.slice.call(arguments,1),a=b.slice(),b=a.length,d=0;d<b;d++)a[d].apply(this,f);return!0};r.prototype.addListener=function(e,f){var b;if(!p(f))throw TypeError("listener must be a function");this.g||(this.g={});this.g.Xb&&this.F("newListener",e,p(f.listener)?f.listener:f);this.g[e]?m(this.g[e])?this.g[e].push(f):this.g[e]=[this.g[e],f]:this.g[e]=f;m(this.g[e])&&!this.g[e].Lb&&(b=void 0===this.$?r.Za:this.$)&&0<b&&this.g[e].length>b&&(this.g[e].Lb=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",
this.g[e].length),"function"===typeof console.trace&&console.trace());return this};r.prototype.ba=r.prototype.addListener;r.prototype.once=function(e,f){function b(){this.removeListener(e,b);d||(d=!0,f.apply(this,arguments))}if(!p(f))throw TypeError("listener must be a function");var d=!1;b.listener=f;this.ba(e,b);return this};r.prototype.removeListener=function(e,f){var b,d,a;if(!p(f))throw TypeError("listener must be a function");if(!this.g||!this.g[e])return this;b=this.g[e];a=b.length;d=-1;if(b===
f||p(b.listener)&&b.listener===f)delete this.g[e],this.g.removeListener&&this.F("removeListener",e,f);else if(m(b)){for(;0<a--;)if(b[a]===f||b[a].listener&&b[a].listener===f){d=a;break}if(0>d)return this;1===b.length?(b.length=0,delete this.g[e]):b.splice(d,1);this.g.removeListener&&this.F("removeListener",e,f)}return this};r.prototype.Ia=function(e){if(this.g){e=this.g[e];if(p(e))return 1;if(e)return e.length}return 0};r.Ia=function(e,f){return e.Ia(f)}},{}]},{},[8])(8)});
(function(){function A(b,a){var c=new XMLHttpRequest;c.timeout=1E4;c.ontimeout=a;c.onerror=c.onload=function(){if(200==c.status)a(null,{frames:c.getResponseHeader("x-goog-meta-frames")});else{var d=new XMLHttpRequest;d.responseType="json";d.timeout=1E4;d.ontimeout=a;d.onerror=a;d.onload=function(){200==d.status?a(null,d.response):a(d.status)};d.open("GET","https://ns.departapp.com/convert?url="+encodeURIComponent(b),!0);d.send()}};c.open("HEAD","https://storage.googleapis.com/nano-split/"+encodeURIComponent(b).replace(/%/g,
"").slice(-100)+".0.jpg",!0);c.send()}function e(b){return null==b||0==b.length}function q(d){var a=this;a.params=d;a.p={};a.a={};a.c=null;a.B=!1;a.onAdRequest=function(){};a.onAdReceived=function(){};a.onAdLoaded=function(){};a.onAdStarted=function(){};a.onNoAd=function(){};a.onAdError=function(){};a.onAdImpression=function(){};a.onAdClick=function(){};a.onAdComplete=function(){};a.onAdTimeout=function(){};a.onAdSkipped=function(){};a.onPrefetch=function(){};a.onFlashCrash=function(){};a.onAdVideoStart=
function(){};a.onAdVideoFirstQuartile=function(){};a.onAdVideoMidpoint=function(){};a.onAdVideoThirdQuartile=function(){};a.onAdVideoComplete=function(){};a.onAdView=function(){};a.bb=function(){"flash"==a.a.i&&a.c&&a.c.bb&&a.c.bb()};a.pause=function(){null!=a.a.b&&("video"!=a.a.i&&null!=a.a.b.exec?a.a.b.exec("pauseAd",[]):"video"==a.a.i&&a.a.b.pause())};a.resume=function(){null!=a.a.b&&("video"!=a.a.i&&null!=a.a.b.exec?a.a.b.exec("resumeAd",[]):"video"==a.a.i&&a.a.b.play())};a.stop=function(c){if(void 0===
a.a.b)return c?c.call(a):null;null===a.a.b?a.a.Qa=c||function(){}:a.a.w||(clearTimeout(a.a.timeout),clearTimeout(a.a.J),"video"!=a.a.i&&(a.a.w=c||function(){},a.a.la=setTimeout(function(){"flash"==a.a.i?a.c.memory()>=r?(a.B=!1,a.c.parentNode.removeChild(a.c),delete a.c):(a.c.reset(),a.c.width="0",a.c.height="0"):a.a.b.parentNode.removeChild(a.a.b);delete a.a.b;a.a.w.call(a);delete a.a.w},3E3)),"video"!=a.a.i&&null!=a.a.b.exec?a.a.b.exec("stopAd",[]):"video"==a.a.i&&(a.a.b.parentNode.removeChild(a.a.b),
delete a.a.b,c&&c.call(a)))};a.terminate=function(){var c=a.c;a.c&&(a.B=!1,a.c.parentNode.removeChild(a.c),delete a.c);null!=a.a.b&&(c!=a.a.b&&a.a.b.parentNode.removeChild(a.a.b),delete a.a.b);a.a.na=!0;clearTimeout(a.a.timeout);clearTimeout(a.a.J)};a.ia=function(){var c=a.a.b;"flash"==a.a.i?c.memory()>=r?(a.B=!1,a.c.parentNode.removeChild(a.c),delete a.c):(c.reset(),c.width="0",c.height="0"):(c.style.display="none",c.removeAttribute("id"),setTimeout(function(){c.parentNode.removeChild(c)},3E3));
delete a.a.b};a.Ea=function(c,b){var d=null,e=!1,f=a.a.b;c.seekable={length:0};c.seeking=!1;c.networkState=1;c.playbackRate=1;c.readyState=4;c.ended=!1;c.paused=!0;c.played={length:0,start:function(){return 0},end:function(){return c.currentTime}};c.buffered={length:1,start:function(){return 0},end:function(){return c.duration}};c.pause=function(){!c.paused&&d&&(c.paused=!0,d.pause(),c.dispatchEvent(new Event("pause")))};c.play=function(l){if(!c.src)if(c.getAttribute("src"))c.src=c.getAttribute("src");
else if(0<c.getElementsByTagName("SOURCE").length)c.src=c.getElementsByTagName("SOURCE")[0].src;else return b();e?!0!==l&&d&&c.paused&&(c.paused=!1,d.resume(),c.dispatchEvent(new Event("play")),c.dispatchEvent(new Event("playing"))):(e=!0,A(c.src,function(e,l){function h(){if(a.a.b==f){if(g!=m-1)return d.play(""+ ++g);c.ended=!0;c.currentTime=c.duration;c.dispatchEvent(new Event("timeupdate"));c.dispatchEvent(new Event("paused"));c.dispatchEvent(new Event("ended"))}}if(!l)return b();var n={},g=0,
m=Math.ceil(l.frames/40);c.currentSrc=c.src;c.duration=l.frames/6;c.dispatchEvent(new Event("durationchange"));for(var p=0;p<m;++p)n[""+p]={src:"https://storage.googleapis.com/nano-split/"+encodeURIComponent(c.src).replace(/%/g,"").slice(-100)+"."+p+".jpg",frames:p!=m-1?40:l.frames%40||40,fps:6,cols:5,loops:1,onEnd:h};d=G({selector:c,width:a.params.width,height:a.params.height,videos:n,onError:b,loaded:function(){c.played.length=1;c.paused=!1;c.currentTime=0;d.play("0");c.dispatchEvent(new Event("play"));
c.dispatchEvent(new Event("playing"));var b=setInterval(function(){if(a.a.b!=f||c.ended)return clearInterval(b);var e=(d.eb()+40*g)/6;c.currentTime!=e&&(c.currentTime=e,c.dispatchEvent(new Event("timeupdate")))},100)}})}))};(function D(){a.a.b==f&&(c.src?c.play(!0):setTimeout(D,1E3))})()};a.ja=function(c){function d(c,d,n){a.onAdRequest(!!n);delete a.a.b;if(!a.a.na){if(a.a.Qa)return a.a.Qa.call(a);if(d)return a.onAdError(d);if(null==c||e(c.o)||e(c.o[0].A))return a.onNoAd("No ad found");d=null;for(n=
0;n<c.o[0].A.length;++n){var q=c.o[0].A[n];if(!e(q.L)&&"linear"==q.type){d=q;break}}if(null==d)return a.onNoAd("No linear creative found");var r=a.a.i=null,w={};a.a.S=d.D;d.L.forEach(function(c){if(null!=c.ha){var b=c.ha.toLowerCase();if(-1!=b.indexOf("flash")||-1!=b.indexOf("video/")&&-1!=b.indexOf("flv"))a.B&&!a.params.noFlash&&(null==a.a.i||"javascript"==a.a.i&&a.params.preferFlash||"flash"==a.a.i&&!a.a.ga&&-1!=b.indexOf("flv"))&&(r=c.H,a.a.i="flash",a.a.ga=-1!=b.indexOf("flv"));else if(-1!=b.indexOf("javascript")){if(null==
a.a.i||"flash"==a.a.i&&!a.params.preferFlash)r=c.H,a.a.i="javascript"}else if(0==b.indexOf("video/")){a.a.i="video";null==w[b]&&(w[b]={});var d=Math.abs(c.height-a.params.height)+Math.abs(c.width-a.params.width);if(null==w[b].Ca||d<w[b].Ca)w[b].Ca=d,w[b].url=c.H}}});if(null==a.a.i||"video"!=a.a.i&&!r)return a.onNoAd("No supported media file found");if(a.params.prefetch)return a.onPrefetch(a.a.i,c);a.a.m=new window.ra.m(c.o[0],d);a.a.O=d.O;a.params.timeout&&(a.a.timeout=setTimeout(function(){a.stop(a.onAdTimeout)},
a.params.timeout));a.params.endTimeout&&(a.a.J=setTimeout(function(){a.stop(a.onAdTimeout)},a.params.endTimeout));a.onAdReceived();var h=null;if("flash"==a.a.i){if(!a.B)return a.onAdError("SWF player called before ready");a.c.width=a.params.width;a.c.height=a.params.height;f[a.c.id]=a;a.a.b=a.c;p||l||m||function B(){a.c&&a.a.b==a.c&&!a.a.Fa&&(setTimeout(B,1E3),a.c.style["margin-top"]=a.params.height+"px",setTimeout(function(){a.c&&(a.c.style["margin-top"]="0")},10))}();setTimeout(function(){a.c&&
(a.a.ga?(a.c.flv(r),a.c.onmousedown=function(){b.AdClickThru(a.c,{url:a.a.S,id:(new Date).getTime(),playerHandles:!0})}):a.c.run(r))},100)}else if("javascript"==a.a.i){var y="AdLoaded AdStarted AdImpression AdVideoStart AdVideoFirstQuartile AdVideoMidpoint AdVideoThirdQuartile AdVideoComplete AdPaused AdPlaying AdStopped AdSkipped AdLog AdError AdVolumeChange".split(" "),h=document.createElement("div");h.id=a.params.id+"_obj";h.className="nano-element";h.style.width=a.params.width+"px";h.style.height=
a.params.height+"px";h.style.overflow="hidden";h.style.position="relative";var g=document.createElement("iframe");g.className="nano-element";g.frameBorder="0";g.marginWidth="0";g.marginHeight="0";g.src="about:blank";g.setAttribute("src","about:blank");g.setAttribute("scrolling","no");g.style.margin="0px";g.style.padding="0px";g.style.border="0px";g.style.width="100%";g.style.height="100%";g.style.position="absolute";g.style.overflow="hidden";var z=document.createElement("div");z.id="slot";var u=a.params.gifify?
document.createElement("div"):document.createElement("video");u.className="nano-element";u.volume=0;u.Zb=!0;u.setAttribute("playsinline","");u.muted=!0;u.setAttribute("muted","");u.autoplay=!0;u.setAttribute("autoplay","");u.style.position="absolute";u.setAttribute("preload","auto");u.yb="auto";u.controls=!1;u.loop=!1;u.width=a.params.width;u.height=a.params.height;h.appendChild(u);h.appendChild(g);var v=document.createElement("script");v.type="text/javascript";v.src=r;v.onerror=function(){b.AdError(h)};
v.onload=function(){try{var c=g.contentWindow.getVPAIDAd();(function C(){try{if(a.a.b==h){setTimeout(C,500);for(var b=h.getElementsByTagName("video"),d=0;d<b.length;++d)b[d].muted=!0,b[d].setAttribute("muted","");c.setAdVolume(.001);c.setAdVolume(0)}}catch(J){}})();a.params.noFlash||p||l||m||function I(){a.a.b!=h||a.a.Fa||(setTimeout(I,1E3),h.style["margin-top"]=a.params.height+"px",setTimeout(function(){h.style["margin-top"]="0"},10))}();a.params.gifify&&a.Ea(u,function(){b.AdError(h)});c.subscribe(function(a,
c,d){b.AdClickThru(h,{url:a,id:c,playerHandles:d})},"AdClickThru");y.forEach(function(a){c.subscribe(function(c){b[a](h,c)},a)});c.handshakeVersion("2.0");h.exec=function(a,d){try{c[a].apply(c,d)}catch(J){b.AdError(h)}};c.initAd(u.width,u.height,"normal",-1,{AdParameters:a.a.O||""},{slot:z,videoSlot:u,videoSlotCanAutoPlay:!0})}catch(B){b.AdError(h)}};f[h.id]=a;a.a.b=h;setTimeout(function(){a.ka.appendChild(h);setTimeout(function(){g.contentDocument&&(g.contentDocument.write("<html><head></head><body></body></html>"),
g.contentDocument.body.appendChild(z),g.contentDocument.body.appendChild(v))},100)},100)}else if("video"==a.a.i){h=a.params.gifify?document.createElement("div"):document.createElement("video");h.volume=0;h.setAttribute("muted","");h.muted=!0;h.setAttribute("autoplay","");h.autoplay=!0;h.setAttribute("preload","auto");h.yb="auto";h.controls=!1;h.loop=!1;h.id=a.params.id+"_obj";h.className="nano-element";h.width=a.params.width;h.height=a.params.height;h.style.cursor="pointer";var x=function(c){a.a[c]||
(a.a[c]=!0,a[c]())};h.onclick=function(){var c=a.a.m;a.a.S&&window.open(a.a.S,"_blank");c.click();a.onAdClick(a.a.S,(new Date).getTime(),!1)};c=Object.keys(w).sort(function(a,c){return-1!=a.indexOf("mp4")||-1!=a.indexOf("webm")&&-1==c.indexOf("mp4")||-1!=a.indexOf("3gp")&&-1==c.indexOf("mp4")&&-1==c.indexOf("webm")?-1:1});a.params.gifify?h.src=w[c[0]].url:c.forEach(function(a){var c=document.createElement("source");c.type=a;c.src=w[a].url;h.appendChild(c)});h.addEventListener("error",function(){var c=
a.a.m;clearTimeout(a.a.timeout);clearTimeout(a.a.J);a.a.b&&(a.a.b.parentNode.removeChild(a.a.b),delete a.a.b,c.fa(),a.onAdError())});h.addEventListener("play",function(){a.a.K&&a.a.m.resume()});h.addEventListener("pause",function(){h.duration!=h.currentTime&&a.a.m.pause()});h.addEventListener("durationchange",function(){a.a.m.Oa(h.duration);a.a.duration=h.duration});h.addEventListener("timeupdate",function(){var c=a.a.m;clearTimeout(a.a.timeout);a.a.K||(a.a.K=!0,c.Ba(),a.onAdStarted(),c.Ha(),a.onAdImpression(),
a.onAdView());c.Db(h.currentTime);a.a.duration&&(c=Math.round(h.currentTime/a.a.duration*100),0<=c&&x("onAdVideoStart"),25<=c&&x("onAdVideoFirstQuartile"),50<=c&&x("onAdVideoMidpoint"),75<=c&&x("onAdVideoThirdQuartile"),99<=c&&x("onAdVideoComplete"))});h.addEventListener("ended",function(){var c=a.a.m;clearTimeout(a.a.timeout);clearTimeout(a.a.J);a.a.b&&(c.complete(),a.a.b.parentNode.removeChild(a.a.b),delete a.a.b,a.onAdComplete(),a.params.loopOnSuccess&&setTimeout(function(){a.play()},0))});a.onAdLoaded();
a.a.b=h;a.ka.appendChild(h);a.params.gifify&&a.Ea(h,function(){h.dispatchEvent(new Event("error"))})}}}c?d(c,null,!1):window.ra.client.get(a.params.tag,{withCredentials:!0,timeout:1E4,response:a.params.tagInline},d)};a.play=function(){if(a.a.na)return console.error("The player has been terminated and cannot be started.");if(void 0!==a.a.b)return console.error("Cannot start playing before a previous play has been stopped");a.a={};a.a.b=null;a.c&&(a.c.onmousedown="");if(null==a.params.id||null==a.params.width||
null==a.params.height||null==a.params.tag&&!a.params.tagInline&&!a.params.prefetched||null==a.params.swfPlayer&&!a.params.noFlash)return console.error("Failed to start player, some required parameters are missing.");null==a.params.timeout&&(a.params.timeout=6E4);null==a.params.endTimeout&&(a.params.endTimeout=6E5);var c=null!=a.params.element?a.params.element:document.getElementById(a.params.id);if(null==c)return console.error("Could not find element with id: "+a.params.id);""==c.className?c.className=
"nano-element":-1==c.className.indexOf("nano-element")&&(c.className+=" nano-element");c.style.background="black";c.style.overflow="hidden";c.style.width=a.params.width;c.style.height=a.params.height;f[a.params.id]=a;a.ka=c;if(null!=a.c||a.params.noFlash||a.params.prefetch)a.ja(a.params.prefetched);else{var b=document.createElement("object");b.id=a.params.id+"_swf";b.name=a.params.id+"_swf";b.width=m?"0":a.params.width;b.height=m?"0":a.params.height;b.className="nano-element";b.type="application/x-shockwave-flash";
b.data=a.params.swfPlayer;c=document.createElement("param");c.name="allowScriptAccess";c.value="always";b.appendChild(c);c=document.createElement("param");c.name="bgcolor";c.value="#000000";b.appendChild(c);c=document.createElement("param");c.name="wmode";c.value="window";b.appendChild(c);c=document.createElement("param");c.name="hasPriority";c.value="true";b.appendChild(c);c=document.createElement("param");c.name="seamlesstabbing";c.value="true";b.appendChild(c);c=document.createElement("param");
c.name="menu";c.value="false";b.appendChild(c);f[b.id]=a;a.c=b;a.B=!1;a.ka.appendChild(b);setTimeout(function(){b.width="0";b.height="0";l||p||m||function y(){a.B||(setTimeout(y,1E3),b.style["margin-top"]=a.params.height+"px",setTimeout(function(){b.style["margin-top"]="0"},10))}()},100);setTimeout(function(){a.B||a.ja(a.params.prefetched)},5E3)}}}if(!window.nanoPlayer){document.body.style.margin="0";document.body.style.padding="0";document.documentElement.style.margin="0";document.documentElement.style.padding=
"0";var r=l?0:7E8,p=-1!=window.navigator.userAgent.indexOf("MSIE ")||-1!=window.navigator.userAgent.indexOf("Trident/"),m=/Edge\/\d./i.test(window.navigator.userAgent),l=-1!=window.navigator.userAgent.toLowerCase().indexOf("firefox"),f={},b={};window.npVPAIDEvent=function(d,a,c){b[a](document.getElementById(d),c)};window.nanoPlayer=function(b){return new q(b)};m&&(b.AdThrottle=function(b){var a=f[b.id];0!=b.width&&(b.width=0,b.height=0,setTimeout(function(){b.width=a.params.width;b.height=a.params.height},
1E3))});b.SWFReady=function(b){var a=f[b.id];a.B=!0;var c=setInterval(function(){if(!a.B||a.a.na)return clearInterval(c);a.c.exec||(clearInterval(c),a.B=!1,a.c.width="0",a.c.height="0","flash"==a.a.i&&(a.a.m.fa(),delete a.a.b,a.onAdError()),a.onFlashCrash())},1E3);a.ja(a.params.prefetched)};b.AdError=function(b,a){var c=f[b.id],d=c.a.m;clearTimeout(c.a.timeout);clearTimeout(c.a.J);if(c.a.b)if(d.fa(),c.ia(),c.a.w)clearTimeout(c.a.la),c.a.w.call(c),delete c.a.w;else c.onAdError(a)};b.AdReceived=function(b){var a=
f[b.id];b.width=a.params.width;b.height=a.params.height;b.exec("initAd",[b.width,b.height,"normal",-1,a.a.O||"",""])};b.AdLoaded=function(b){var a=f[b.id];a.a.ga&&(b.width=a.params.width,b.height=a.params.height);a.onAdLoaded();b.exec("startAd",[])};b.AdStarted=function(b){b=f[b.id];b.a.m.Ba();b.onAdStarted()};b.AdImpression=function(b,a){var c=f[b.id];c.a.m.Ha();c.onAdImpression(a)};b.AdVideoStart=function(b,a){var c=f[b.id],d=c.a.m;clearTimeout(c.a.timeout);c.a.K||(c.a.K=!0,c.onAdView());d.start();
c.onAdVideoStart(a)};b.AdVideoFirstQuartile=function(b,a){var c=f[b.id],d=c.a.m;clearTimeout(c.a.timeout);c.a.Fa=!0;c.a.K||(c.a.K=!0,c.onAdView());d.cb();c.onAdVideoFirstQuartile(a)};b.AdVideoMidpoint=function(b,a){var c=f[b.id];c.a.m.mb();c.onAdVideoMidpoint(a)};b.AdVideoThirdQuartile=function(b,a){var c=f[b.id];c.a.m.Jb();c.onAdVideoThirdQuartile(a)};b.AdVideoComplete=function(b,a){var c=f[b.id];c&&(c.a.m.complete(),c.onAdVideoComplete(a))};b.AdPlaying=function(b){f[b.id].a.m.resume()};b.AdPaused=
function(b){f[b.id].a.m.pause()};b.AdSkipped=function(b,a){var c=f[b.id],d=c.a.m;clearTimeout(c.a.timeout);clearTimeout(c.a.J);if(c.a.b)if(d.Eb(),c.ia(),c.a.w)clearTimeout(c.a.la),c.a.w.call(c),delete c.a.w;else c.onAdSkipped(a)};b.AdStopped=function(b,a){var c=f[b.id];if(c&&(clearTimeout(c.a.timeout),clearTimeout(c.a.J),c.a.b))if(c.ia(),c.a.w)clearTimeout(c.a.la),c.a.w.call(c),delete c.a.w;else if(c.a.K)c.onAdComplete(a),c.params.loopOnSuccess&&setTimeout(function(){c.play()},0);else c.onAdError(a)};
b.AdClickThru=function(b,a){var c=f[b.id],d=c.a.m,e=a.url||c.a.S;e&&a.playerHandles&&window.open(e,"_blank");d.click();c.onAdClick(e,a.id,!1)};b.AdLog=function(){};b.AdVolumeChange=function(){}}})();